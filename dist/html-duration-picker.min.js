!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.HtmlDurationPicker=e():t.HtmlDurationPicker=e()}(this,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),
/**
 * @preserve
 * html-duration-picker.js
 *
 * @description Turn an html input box to a duration picker, without jQuery
 * @version 2.2.10
 * @author Chif <nadchif@gmail.com>
 * @license Apache-2.0
 *
 */e.default=function(){const t=".pickerStyles {  text-align: right;  padding-right: 20px;  box-sizing: border-box;  width: 100%;  margin: 0;  cursor: text;}.scrollStyle {  text-align: center;  width: 16px;  padding: 0 4px;  border: none;  cursor: default;  position: absolute;}.caretStyle {  width: 0;  height: 0;  border-style: solid;}.caretUpStyle {  border-width: 0 4px 5px 4px;  border-color: transparent transparent #000 transparent;}.caretDownStyle {  border-width: 5px 4px 0 4px;  border-color: #000 transparent transparent transparent;}.controlsDivStyle {  display: inline-block;  position: absolute;  top: 1px;  padding: 2px 0;}.controlWrapperStyle {  display: inline-block;  position: relative;  background: transparent;  padding: 0;}",e=({target:{selectionStart:t,value:e}},r)=>{const n=e.indexOf(":"),a=e.lastIndexOf(":");let o;return t<=n?o="hours":r||t<=a?o="minutes":!r&&t>a&&(o="seconds"),{cursorSelection:o,hideSeconds:r,hourMarker:n,minuteMarker:a}},r=t=>{const r=n(t.target),{cursorSelection:a,hourMarker:o,minuteMarker:s}=e(t,r);if(a){if("hours"===a)return t.target.setAttribute("data-adjustment-mode",3600),void t.target.setSelectionRange(0,o);if("minutes"===a){const e=r?3:0;return t.target.setAttribute("data-adjustment-mode",60),void t.target.setSelectionRange(o+1,s+e)}if("seconds"===a)return t.target.setAttribute("data-adjustment-mode",1),void t.target.setSelectionRange(s+1,s+3);t.target.setAttribute("data-adjustment-mode","ss"),t.target.setSelectionRange(s+1,s+3)}},n=t=>void 0!==t.dataset.hideSeconds&&"false"!==t.dataset.hideSeconds,a=(t,e)=>{const r=Math.floor(e/3600);e%=3600;const a=Math.floor(e/60),o=e%60,s=String(r).padStart(2,"0"),i=String(a).padStart(2,"0"),l=String(o).padStart(2,"0"),d=`${s}:${i}`;t.value=n(t)?d:`${d}:${l}`,t.dispatchEvent(((t,e={bubbles:!1,cancelable:!1})=>{if("function"==typeof Event)return new Event(t);{const r=document.createEvent("Event");return r.initEvent(t,e.bubbles,e.cancelable),r}})("input"))},o=(t,e)=>{const r=t.value.indexOf(":"),a=t.value.lastIndexOf(":"),o=n(t);t.focus(),t.select(),e>=3600?(t.selectionStart=0,t.selectionEnd=r):!o&&e<60?(t.selectionStart=a+1,t.selectionEnd=a+3):(t.selectionStart=r+1,t.selectionEnd=r+3,e=60),e>=1&&e<=3600&&t.setAttribute("data-adjustment-mode",e)},s=t=>{let e=1;return Number(t.getAttribute("data-adjustment-mode"))>0&&(e=Number(t.getAttribute("data-adjustment-mode"))),e},i=(t,e)=>{const r=s(t);let n=c(t.value);switch(e){case"up":n+=r;break;case"down":n-=r,n<0&&(n=0)}const o=u(t,n);a(t,o)},l=(t,e)=>{const r=s(t);switch(e){case"left":o(t,60*r);break;case"right":o(t,r/60)}},d=(t,e)=>RegExp(e?"^[0-9]{2,3}:[0-5][0-9]$":"^[0-9]{2,3}:[0-5][0-9]:[0-5][0-9]$").test(t),u=(t,e)=>{const{maxDuration:r,minDuration:n}=m(t);return Math.min(Math.max(e,n),r)},c=t=>{const e=t.split(":");return e.length<2?0:Number(e[2]||0)+Number(60*e[1])+Number(60*e[0]*60)},p=t=>{const r=n(t.target),{cursorSelection:a}=e(t,r),o=t.target.value.split(":");t.target.dataset.duration&&d(t.target.dataset.duration,r)&&(r&&2!==o.length||!r&&3!==o.length)?t.target.value=t.target.dataset.duration:r||3===o.length?r&&2!==o.length?t.target.value="00:00":(isNaN(o[0])&&(o[0]="00"),(isNaN(o[1])||o[1]<0)&&(o[1]="00"),(o[1]>59||o[1].length>2)&&(o[1]="59"),r||2!==o[1].length||o[1].slice(-1)!==t.key||"minutes"!==a||l(t.target,"right"),r||((isNaN(o[2])||o[2]<0)&&(o[2]="00"),(o[2]>59||o[2].length>2)&&(o[2]="59")),t.target.value=o.join(":")):t.target.value="00:00:00"},f=t=>{const e=t.target,r=e.value||e.dataset.duration,n=c(r);a(e,u(e,n))},g=t=>{if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Enter"].includes(t.key)){switch(t.key){case"ArrowDown":i(t.target,"down");break;case"ArrowUp":i(t.target,"up");break;case"ArrowLeft":l(t.target,"left");break;case"ArrowRight":l(t.target,"right");break;case"Enter":f(t),t.target.blur()}t.preventDefault()}if("Tab"===t.key){const e=s(t.target),r=n(t.target)?3600:60,a=t.shiftKey?"left":"right";l(t.target,a),("left"===a&&e<3600||"right"===a&&e>=r)&&t.preventDefault()}if(isNaN(t.key)&&!["Backspace","ArrowDown","ArrowUp","Tab"].includes(t.key))return t.preventDefault(),!1},b=(t,e,r)=>{const a=t.dataset[e];return d(a,n(t))?c(a):r},m=t=>({minDuration:b(t,"durationMin",0),maxDuration:b(t,"durationMax",1/0)}),h=()=>{const e=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");e.appendChild(l),l.styleSheet?l.styleSheet.cssText=t:l.appendChild(document.createTextNode(t));return document.querySelectorAll("input.html-duration-picker").forEach(t=>{if("true"==t.getAttribute("data-upgraded"))return;const e=t.currentStyle||window.getComputedStyle(t),l=e.marginRight,c=e.marginLeft,m=e.width;t.setAttribute("data-upgraded",!0),t.value&&d(t.value,n(t))||a(t,(t=>{const e=b(t,"duration",0);return u(t,e)})(t)),t.setAttribute("class","pickerStyles"),t.setAttribute("aria-label","Duration Picker"),t.addEventListener("keydown",g),t.addEventListener("focus",r),t.addEventListener("mouseup",r),t.addEventListener("change",p),t.addEventListener("blur",f),t.addEventListener("keyup",p),t.addEventListener("drop",t=>t.preventDefault());const h=document.createElement("button"),y=document.createElement("button"),v=[h,y];h.setAttribute("type","button"),h.setAttribute("aria-label","Increase duration"),h.setAttribute("class","scrollStyle"),h.setAttribute("style",`height:${t.offsetHeight/2-1}px !important; top: 1px;`),h.classList.add("scroll-up"),y.setAttribute("type","button"),y.setAttribute("aria-label","Decrease duration"),y.setAttribute("class","scrollStyle"),y.setAttribute("style",`height:${t.offsetHeight/2-1}px !important; top: ${t.offsetHeight/2-1}px;`),y.classList.add("scroll-down");const S=document.createElement("div"),x=document.createElement("div");S.setAttribute("class","caretStyle caretUpStyle"),x.setAttribute("class","caretStyle caretDownStyle"),y.appendChild(x),h.appendChild(S),v.forEach(e=>{let r;e.addEventListener("mousedown",n=>{n.target.style.transform="translateY(1px)",n.preventDefault(),e==h?(i(t,"up"),r=setInterval(i,200,t,"up")):(i(t,"down"),r=setInterval(i,200,t,"down"))}),e.addEventListener("keypress",r=>{r.target.style.transform="translateY(1px)","Enter"==r.key&&(r.preventDefault(),i(t,e==h?"up":"down"))}),e===h&&e.addEventListener("keydown",e=>{"Tab"===e.key&&e.shiftKey&&(o(t,1),e.preventDefault())}),e.addEventListener("keyup",e=>{if("Enter"==e.key){const e=s(t);o(t,e)}}),e.addEventListener("mouseup",e=>{e.target.style.transform="translateY(0)";const n=s(t);o(t,n),clearInterval(r)}),e.addEventListener("mouseleave",e=>{if(e.target.style.transform="translateY(0)",r){clearInterval(r);const e=s(t);o(t,e)}})});const w=document.createElement("div");w.setAttribute("class","controlsDivStyle"),w.setAttribute("style",`left: ${parseFloat(m)-20}px; height:${t.offsetHeight}px;`),w.classList.add("controls"),w.appendChild(h),w.appendChild(y);const E=document.createElement("div");E.setAttribute("class","controlWrapperStyle"),E.setAttribute("style",`width: ${m}; margin-left: ${c}; margin-right: ${l};`),E.classList.add("html-duration-picker-wrapper"),t.parentNode.insertBefore(E,t),E.appendChild(t),E.appendChild(w)}),!0};return window.addEventListener("DOMContentLoaded",()=>h()),{init:h,refresh:h}}()}]).default}));